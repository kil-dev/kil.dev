/* Konami Code animations and snake game helpers */
.konami-fly-left {
  animation: konami-fly-left 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

.konami-fly-right {
  animation: konami-fly-right 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

@keyframes konami-fly-left {
  0% {
    transform: translateX(0) rotate(0deg);
    opacity: 1;
  }
  50% {
    transform: translateX(-20px) rotate(-5deg);
    opacity: 1;
  }
  100% {
    transform: translateX(-150vw) rotate(-15deg);
    opacity: 0;
  }
}

@keyframes konami-fly-right {
  0% {
    transform: translateX(0) rotate(0deg);
    opacity: 1;
  }
  50% {
    transform: translateX(20px) rotate(5deg);
    opacity: 1;
  }
  100% {
    transform: translateX(150vw) rotate(15deg);
    opacity: 0;
  }
}

/* Keep elements off-screen after animation */
.konami-fly-left.konami-complete {
  transform: translateX(-150vw) rotate(-15deg);
  opacity: 0;
}

.konami-fly-right.konami-complete {
  transform: translateX(150vw) rotate(15deg);
  opacity: 0;
}

/* Reverse animations to bring content back when closing snake */
.konami-return-left {
  animation: konami-return-left 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

.konami-return-right {
  animation: konami-return-right 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* Fade out the CRT/canvas during close so background doesn't linger */
.konami-crt-fade-out {
  opacity: 0;
  transition: opacity 0.8s ease-out;
}

@keyframes konami-return-left {
  0% {
    transform: translateX(-150vw) rotate(-15deg);
    opacity: 0;
  }
  50% {
    transform: translateX(-20px) rotate(-5deg);
    opacity: 1;
  }
  100% {
    transform: translateX(0) rotate(0deg);
    opacity: 1;
  }
}

@keyframes konami-return-right {
  0% {
    transform: translateX(150vw) rotate(15deg);
    opacity: 0;
  }
  50% {
    transform: translateX(20px) rotate(5deg);
    opacity: 1;
  }
  100% {
    transform: translateX(0) rotate(0deg);
    opacity: 1;
  }
}

/* Hide grid lights when snake game is active */
.snake-game-active [class*='gl-'] {
  opacity: 0 !important;
  transition: opacity 0.3s ease-in-out;
}

/* Hide the entire grid lights container */
.snake-game-active .absolute.inset-0.overflow-hidden[aria-hidden] {
  opacity: 0 !important;
  transition: opacity 0.3s ease-in-out;
}

/* More specific targeting for grid lights */
.snake-game-active div[class*='gl-'] {
  opacity: 0 !important;
  transition: opacity 0.3s ease-in-out;
}

/* Target the grid lights container directly */
body.snake-game-active .absolute.inset-0.overflow-hidden {
  opacity: 0 !important;
  transition: opacity 0.3s ease-in-out;
}
